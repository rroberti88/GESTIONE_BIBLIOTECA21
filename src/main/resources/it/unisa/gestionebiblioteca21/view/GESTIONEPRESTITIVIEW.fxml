<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Priority?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<VBox alignment="TOP_CENTER"
      spacing="20"
      xmlns="http://javafx.com/javafx/25"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="it.unisa.gestionebiblioteca21.controller.GestionePrestitiController"
      stylesheets="@../css/appstyle.css"
      styleClass="root-light"
      prefWidth="650" prefHeight="550">

    
    <HBox alignment="CENTER_LEFT"
          spacing="10"
          prefHeight="90"
          style="-fx-background-color: #4A4A4C;
                 -fx-background-radius: 0 0 25 25;
                 -fx-padding: 0 20;">
        
        
        <ImageView fitHeight="60" fitWidth="60" preserveRatio="true">
            <image><Image url="@/it/unisa/gestionebiblioteca21/assets/logo.png"/></image>
        </ImageView>

        <Region HBox.hgrow="ALWAYS" />

        
        <Label text="Gestione Prestiti"
               style="-fx-font-size: 30px;
                      -fx-font-weight: bold;
                      -fx-text-fill: white;" />

        <Region HBox.hgrow="ALWAYS" />

       
        <ImageView fitHeight="60" fitWidth="60" preserveRatio="true">
            <image><Image url="@/it/unisa/gestionebiblioteca21/assets/logo.png"/></image>
        </ImageView>

    </HBox>

    
    <TextField fx:id="txtRicercaPrestito"
               promptText="Ricerca per libro o utente..."
               prefWidth="550"
               style="-fx-background-radius: 12;
                      -fx-border-radius: 12;
                      -fx-background-color: white;
                      -fx-border-color: #D2D2D7;
                      -fx-padding: 10;
                      -fx-font-size: 14px;" />

    
    <Label text="Elenco Prestiti"
           style="-fx-font-size: 18px;
                  -fx-font-weight: bold;
                  -fx-text-fill: #444;" />

    
    <TableView fx:id="tableview"
               VBox.vgrow="ALWAYS"
               prefHeight="200" prefWidth="580"
               style="-fx-background-radius: 12;
                      -fx-border-radius: 12;
                      -fx-border-color: #D2D2D7;">

        <columns>
            <TableColumn fx:id="colLibro" text="Libro"/>
            <TableColumn fx:id="colUtente" text="Utente"/>
            <TableColumn fx:id="colDataPrestito" text="Data Prestito"/>
            <TableColumn fx:id="colDataScadenza" text="Scadenza"/>
        </columns>

        <columnResizePolicy>
            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
        </columnResizePolicy>
    </TableView>

    
    <HBox spacing="40" alignment="CENTER">

        <VBox spacing="10">
            <Button fx:id="btnRegistraPrestito"
                    text="Registra Prestito"
                    onAction="#handleRegistraPrestito"
                    prefWidth="200" prefHeight="40"
                    style="-fx-background-color: white;
                           -fx-background-radius: 12;
                           -fx-font-size: 16px;
                           -fx-text-fill: black;
                           -fx-font-weight: bold;" />

            
            <Button fx:id="btnEliminaPrestito"
                    text="Elimina Prestito"
                    onAction="#handleCancellazionePrestito"
                    prefWidth="200" prefHeight="40"
                    style="-fx-background-color: #FF3B30;
                           -fx-background-radius: 12;
                           -fx-font-size: 16px;
                           -fx-text-fill: white;
                           -fx-font-weight: bold;" />
        </VBox>

        <VBox spacing="10">
            
            <Button fx:id="btnRegistraRestituzione"
                    text="Registra Restituzione"
                    onAction="#handleRegistraRestituzione"
                    prefWidth="200" prefHeight="40"
                    style="-fx-background-color: white;
                           -fx-background-radius: 12;
                           -fx-font-size: 16px;
                           -fx-text-fill: black;
                           -fx-font-weight: bold;" />

            <Button fx:id="btnDashboard"
                    text="Dashboard"
                    onAction="#handleBackDashboard"
                    prefWidth="200" prefHeight="40"
                    style="-fx-background-color: white;
                           -fx-background-radius: 12;
                           -fx-font-size: 16px;
                           -fx-text-fill: black;
                           -fx-font-weight: bold;" />
        </VBox>

    </HBox>

</VBox>
