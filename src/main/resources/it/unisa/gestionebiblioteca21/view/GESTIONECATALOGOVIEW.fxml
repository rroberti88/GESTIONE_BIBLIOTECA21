<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Pos?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>

<StackPane xmlns="http://javafx.com/javafx/25"
           xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="it.unisa.gestionebiblioteca21.controller.GestioneCatalogoController"
           prefWidth="900" prefHeight="640"
           style="-fx-background-color: linear-gradient(to bottom right, #0B1220, #0E1B2E, #111827);">

    <VBox alignment="TOP_CENTER"
          spacing="16"
          maxWidth="860"
          prefWidth="860"
          style="-fx-background-color: rgba(255,255,255,0.08);
                 -fx-background-radius: 26;
                 -fx-border-radius: 26;
                 -fx-border-color: rgba(255,255,255,0.16);
                 -fx-border-width: 1;
                 -fx-padding: 22;">

        <effect>
            <DropShadow radius="30" offsetY="10" color="#000000AA"/>
        </effect>

        <HBox alignment="CENTER_LEFT" spacing="14"
              style="-fx-background-color: rgba(255,255,255,0.06);
                     -fx-background-radius: 20;
                     -fx-padding: 14 16;">

            <ImageView fitHeight="46" fitWidth="46" preserveRatio="true">
                <image>
                    <Image url="@/it/unisa/gestionebiblioteca21/assets/logo.png"/>
                </image>
            </ImageView>

            <VBox spacing="2">
                <Label text="Biblioteca"
                       style="-fx-font-size: 18px;
                              -fx-font-weight: 900;
                              -fx-text-fill: white;"/>
                <Label text="Gestione catalogo"
                       style="-fx-font-size: 12px;
                              -fx-text-fill: rgba(255,255,255,0.75);"/>
            </VBox>

            <Region HBox.hgrow="ALWAYS"/>

            <Label text="CATALOGO"
                   style="-fx-font-size: 12px;
                          -fx-font-weight: 900;
                          -fx-text-fill: white;
                          -fx-background-color: rgba(0,122,255,0.35);
                          -fx-background-radius: 999;
                          -fx-padding: 6 12;"/>
        </HBox>

        <VBox spacing="8" alignment="CENTER_LEFT" prefWidth="816">
            <Label text="Catalogo libri"
                   style="-fx-font-size: 24px;
                          -fx-font-weight: 900;
                          -fx-text-fill: white;"/>
            <Label text="Cerca, visualizza e gestisci i volumi presenti nel sistema."
                   style="-fx-font-size: 13px;
                          -fx-text-fill: rgba(255,255,255,0.7);"/>
        </VBox>

        <TextField fx:id="txtRicercaLibro"
                   promptText="Cerca per titolo, autore o ISBN..."
                   prefWidth="816"
                   style="-fx-background-color: rgba(255,255,255,0.12);
                          -fx-background-radius: 14;
                          -fx-border-radius: 14;
                          -fx-border-color: rgba(255,255,255,0.18);
                          -fx-text-fill: white;
                          -fx-prompt-text-fill: rgba(255,255,255,0.55);
                          -fx-padding: 12;
                          -fx-font-size: 14px;"/>

        <TableView fx:id="tableview"
                   prefWidth="816"
                   prefHeight="320"
                   style="-fx-background-color: rgba(15,23,42,0.65);
                          -fx-background-radius: 16;
                          -fx-border-radius: 16;
                          -fx-border-color: rgba(255,255,255,0.14);
                          -fx-border-width: 1;
                          -fx-padding: 0;
                          -fx-control-inner-background: rgba(15,23,42,0.85);
                          -fx-table-cell-border-color: rgba(255,255,255,0.08);
                          -fx-font-size: 13px;

                          .table-view .corner { -fx-background-color: transparent; }

                          .table-view .column-header-background {
                              -fx-background-color: rgba(255,255,255,0.06);
                              -fx-background-radius: 16 16 0 0;
                              -fx-background-insets: 0;
                          }
                          .table-view .column-header, .table-view .filler {
                              -fx-background-color: transparent;
                              -fx-border-color: rgba(255,255,255,0.10);
                              -fx-border-width: 0 0 1 0;
                          }
                          .table-view .column-header .label {
                              -fx-text-fill: rgba(255,255,255,0.95);
                              -fx-font-weight: 900;
                              -fx-padding: 10 8 10 8;
                          }

                          .table-view .table-cell {
                              -fx-text-fill: rgba(255,255,255,0.92);
                              -fx-padding: 10 8 10 8;
                          }

                          .table-view .table-row-cell { -fx-background-color: transparent; }
                          .table-view .table-row-cell:filled:odd { -fx-background-color: rgba(255,255,255,0.03); }
                          .table-view .table-row-cell:filled:even { -fx-background-color: rgba(255,255,255,0.00); }

                          .table-view .table-row-cell:filled:hover { -fx-background-color: rgba(255,255,255,0.06); }

                          .table-view .table-row-cell:filled:selected { -fx-background-color: rgba(0,122,255,0.28); }
                          .table-view .table-row-cell:filled:selected:hover { -fx-background-color: rgba(0,122,255,0.34); }
                          .table-view .table-row-cell:filled:selected .table-cell { -fx-text-fill: #FFFFFF; }

                          .table-view .virtual-flow .scroll-bar:vertical,
                          .table-view .virtual-flow .scroll-bar:horizontal { -fx-background-color: transparent; }
                          .table-view .virtual-flow .scroll-bar .track {
                              -fx-background-color: rgba(255,255,255,0.06);
                              -fx-background-radius: 999;
                          }
                          .table-view .virtual-flow .scroll-bar .thumb {
                              -fx-background-color: rgba(255,255,255,0.22);
                              -fx-background-radius: 999;
                          }">

            <columns>
                <TableColumn fx:id="colTitolo" text="Titolo"/>
                <TableColumn fx:id="colAutore" text="Autore"/>
                <TableColumn fx:id="colAnnoDiEdizione" text="Anno"/>
                <TableColumn fx:id="colIsbn" text="ISBN"/>
                <TableColumn fx:id="colCopieDisponibili" text="Copie"/>
            </columns>

            <columnResizePolicy>
                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
            </columnResizePolicy>
        </TableView>

        <HBox spacing="12" alignment="CENTER" prefWidth="816">

            <Button fx:id="btnInserimentoLibro"
                    text="Inserisci libro"
                    prefWidth="258" prefHeight="44"
                    onAction="#handleInserimentoLibro"
                    style="-fx-background-color: #007AFF;
                           -fx-background-radius: 14;
                           -fx-text-fill: white;
                           -fx-font-weight: 900;
                           -fx-cursor: hand;
                           -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.25), 14, 0.15, 0, 8);"/>

            <Button fx:id="btnModificaLibro"
                    text="Modifica libro"
                    prefWidth="258" prefHeight="44"
                    onAction="#handleModificaLibro"
                    style="-fx-background-color: rgba(255,255,255,0.14);
                           -fx-background-radius: 14;
                           -fx-text-fill: white;
                           -fx-font-weight: 900;
                           -fx-cursor: hand;
                           -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.20), 12, 0.12, 0, 6);"/>

            <Button fx:id="btnCancellazioneLibro"
                    text="Cancella libro"
                    prefWidth="258" prefHeight="44"
                    onAction="#handleCancellazioneLibro"
                    style="-fx-background-color: linear-gradient(to right, #FF3B30, #FF5A52, #FF7A73);
                           -fx-background-radius: 14;
                           -fx-text-fill: white;
                           -fx-font-weight: 900;
                           -fx-cursor: hand;
                           -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.35), 16, 0.18, 0, 9);"/>
        </HBox>

        <HBox alignment="CENTER" prefWidth="816">
            <Button fx:id="btnDashboard"
                    text="Dashboard"
                    prefWidth="816" prefHeight="44"
                    onAction="#handleBackDashboard"
                    style="-fx-background-color: rgba(255,255,255,0.12);
                           -fx-background-radius: 14;
                           -fx-border-radius: 14;
                           -fx-border-color: rgba(255,255,255,0.18);
                           -fx-border-width: 1;
                           -fx-text-fill: white;
                           -fx-font-weight: 900;
                           -fx-cursor: hand;"/>
        </HBox>

    </VBox>
</StackPane>
